# 区间计算

## 功能需求

实现通用的区间计算库

## 区间定义

**区间**仅需两个属性：
* 区间左值
* 区间右值

**开闭**应额外有两个属性
* 区间左开闭
* 区间右开闭

**有序**应额外有一个约束：
* 区间左值小于区间右值

日照所需的**计算区间**

* 区间+有序
* 静态属性： 连接公差

数学上**实轴区间**：

* 区间+开闭+有序

离散序列的**范围区间**（可能有用）

* 区间+开闭

## 功能设计

### 区间

* isIn：判断实值是否在区间内
* isReverse：左右值是否逆序
* Reverse：翻转左右值
* Remap：实值在两个区间之间的映射
* RemapEx：通过两个区间定义实轴映射
* IsConnect: 区间交接关系
* Union: 区间并集
* Intersect: 区间交集

### 开闭

* isIn：+判断端点关系

### 有序

* 区间 => 有序区间 ：判断和翻转方法

### 计算区间

* IsConnect: 区间交接关系（应考虑公差）

### 实轴区间

同计算区间但不考虑公差考虑开闭

# 区间集合

## 功能需求目的

展示多区间的日照计算结果，应是0或多个不重叠区间组成的实数集合范围

## 区间集合定义

* 一个偶数长度的值列表
* 一个相同长度的开闭布尔值列表（实轴区间集合）

## 功能设计

### 多区间合并

合并多个区间为一个区间集合

### Difference

实现日照遮挡区间集合和直射区间集合之间的转换

## 计算区间集合

对应方法应考虑公差



